[Thu Jul 07 19:24:39 2016] [notice] Apache/2.0.48 (Unix) PHP/4.4.1 configured -- resuming normal operations
ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8345ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8344ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8359ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8368ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8367ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8383ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8391ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8392ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8406ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8415ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8414ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8430ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8438ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8439ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8454ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8463ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8462ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8478ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8487ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8486ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8502ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8510ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8511ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8525ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8534ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8533ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8549ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8557ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8558ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8572ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8581ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8580ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8595ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8604ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8605ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8620ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8628ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8629ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8645ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8653ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8654ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8668ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8676ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8677ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8692ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8701ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8700ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8715ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8724ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8723ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8738ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8746ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8747[Thu Jul 07 19:25:30 2016] [notice] caught SIGTERM, shutting down
[Thu Jul 07 19:25:42 2016] [error] (98): Couldn't bind unix domain socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/../apache-install-tsan/logs/cgisock
[Thu Jul 07 19:25:42 2016] [notice] Apache/2.0.48 (Unix) PHP/4.4.1 configured -- resuming normal operations
ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8775ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8774ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8790ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8798ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8799ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8813ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8820ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8821ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8834ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8842ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8843ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8857ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8864ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8865ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8879ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8886ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8887ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8900ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8908ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8907ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8922ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8929ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8930ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8944ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8951ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8952ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8965ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8973ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8974ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8988ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8996ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.8995ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9010ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9017ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9018ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9031ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9039ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9040ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9054ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9061ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9062ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9077ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9084ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9085ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9099ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9106ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9107ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9121ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9128ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9129ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9144ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9151ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9152ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9166ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9173ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9174ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9187ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9195ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9196ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9211ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9218ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9219ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9232ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9240ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9239ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9254ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9262ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9261ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9277ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9284ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9285ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9299ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9307ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9306ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9322ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9329ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9330ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9344ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9351ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9352ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9366ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9374ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9373ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9387ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9394ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9395ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9410ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9418ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9417ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9432[Thu Jul 07 19:27:12 2016] [warn] child process 9440 still did not exit, sending a SIGTERM
[Thu Jul 07 19:27:12 2016] [warn] child process 9441 still did not exit, sending a SIGTERM
ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9440ERROR: Can't open file: /home/jason/github/ConAnalysis/TESTS/apache-21287/output/tsan.9441[Thu Jul 07 19:27:12 2016] [notice] caught SIGTERM, shutting down
[Thu Jul 07 19:28:18 2016] [error] (98): Couldn't bind unix domain socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/../apache-install-tsan/logs/cgisock
[Thu Jul 07 19:28:18 2016] [notice] Apache/2.0.48 (Unix) PHP/4.4.1 configured -- resuming normal operations
==================
WARNING: ThreadSanitizer: data race (pid=9465)
  Write of size 4 at 0x7f7eda0ad024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9473, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9471, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9466)
  Write of size 4 at 0x7f7eda0ad034 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad034 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9474, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9472, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9466)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9470, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9466)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=9494, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9465)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9469, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9465)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 startup_children /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1407:13 (httpd+0x000000570fb4)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1718:9 (httpd+0x00000057013b)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f7eda1ed000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9491, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9465)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=9471, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9491, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9466)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=9472, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9494, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 4 warnings
ThreadSanitizer: reported 4 warnings
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Write of size 4 at 0x7f7eda0ad024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9498, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x00000164db90 by thread T11:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164db90 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db90)

  Thread T11 (tid=9508, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9504, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x00000164dbc0 by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dbc0 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dbc0)

  Thread T11 (tid=9508, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9504, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Write of size 4 at 0x00000164cc58 by thread T8:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9509, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x00000164d950 by thread T8:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d950 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d950)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x00000164d980 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d983 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d980)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Write of size 4 at 0x7d3000047e70 by thread T3:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x7d3000047e70 by thread T7 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000047dc0 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9504, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016 write_body
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d2000027d20 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d20 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d2000027d08 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d08 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d2000027d10 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d10 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d2000027d18 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d18 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d2000027d40 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d40 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d0c00026460 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00026460 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00026460 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d0c00026468 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00026468 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00026460 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d1000003b80 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000003b80 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d1000003b80 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d2000027d28 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d28 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d0c00025fe0 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00025fe0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00025fe0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d0c00025fe8 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00025fe8 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00025fe0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d18000a49a0 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000a49a0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a49a0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d18000a49da by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000a49da by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a49a0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d2000027d30 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d30 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d4400031d80 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400031d80 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400031d80 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d4400031d88 by thread T9:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400031d88 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400031d80 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d600005f400 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600005f400 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600005f400 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Write of size 4 at 0x7f7eda0ad034 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad034 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9518, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d600005f43a by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600005f43a by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600005f400 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x00000164d990 by thread T5:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d990 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d990)

  Thread T5 (tid=9501, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9498, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x00000164d9c0 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d9c1 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9c0)

  Thread T5 (tid=9501, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9498, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Write of size 4 at 0x00000164cc58 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9529, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d0400004bd8 by thread T11:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400004bd8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400004bd0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9508, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d1c00024a30 by thread T4:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00024a30 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c000249d0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9500, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x00000164d990 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d990 by thread T3:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d990)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x00000164d9c0 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164d9c1 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9c0)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d600005fa00 by thread T4:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600005fa00 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600005f800 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9500, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 4 at 0x7d300001de70 by thread T3 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d300001de70 by thread T7:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300001ddc0 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d180012e9e0 by thread T10:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180012e9e0 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180012e9a0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9507, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d200001bb20 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001bb20 by thread T7:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001bb00 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:651:14 (httpd+0x0000004ba3d2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d100000bc18 by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d100000bc18 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d100000bc00 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d040000ab28 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d040000ab28 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d040000ab20 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d1c00003da0 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00003da0 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00003d40 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d1800108068 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800108068 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800108060 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9503, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9506, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d600001f9e8 by thread T3:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001f9e8 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600001f800 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d100000bd15 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d100000bd10 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d100000bd00 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9528, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d18000a4a08 by thread T10:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000a4a08 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a4a00 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9527, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9525, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d18000fb9e0 by thread T9:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000fb9e0 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000fb9a0 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9526, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9521, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d600004f5a0 by thread T2:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004f5a0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600004f400 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9518, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9525, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d600001f59f by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600001f59f by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600001f400 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d2000003b08 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003b08 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003b00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d2000003b10 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003b10 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003b00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d600001f5cf by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600001f5cf by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600001f400 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d2000003b18 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003b18 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003b00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d2000003b40 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003b40 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003b00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d200001fa38 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001fa38 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001fa00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d0c00018540 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00018540 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00018540 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d040000ab10 by thread T3:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d040000ab10 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d040000ab10 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d0c00018548 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00018548 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00018540 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
==================
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
WARNING: ThreadSanitizer: data race (pid=9495)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
  Read of size 8 at 0x7d040000ab18 by thread T3    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
:

  Thread T6 (tid=9523, running) created by thread T1    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
 at:
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)

    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
  Thread T3 (tid=9519, running) created by thread T1    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
 at:
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
  Previous write of size 8 at 0x7d040000ab18 by thread T8==================
:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d040000ab10 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d08000081c0 by thread T3:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d08000081c0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d08000081c0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d1000009cd7 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000009cd7 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d1000009cc0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d300001dd10 by thread T3:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300001dd10 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300001dd00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d2000003b28 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003b28 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003b00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 8 at 0x7d300001dd28 by thread T3:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300001dd28 by thread T8:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300001dd00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9499, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9505, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d0c00018900 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00018900 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00018900 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d1c0001c990 by thread T3:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
==================
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
WARNING: ThreadSanitizer: data race (pid=9515)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
  Read of size 8 at 0x7d0c00018908 by thread T6:
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)

    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
  Previous write of size 1 at 0x7d1c0001c990 by thread T8    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
:
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:901:9 (httpd+0x0000004c95d5)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
  Previous write of size 8 at 0x7d0c00018908 by thread T3:
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)

    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
  Location is heap block of size 102 at 0x7d1c0001c930 allocated by thread T8:
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
  Location is heap block of size 48 at 0x7d0c00018900 allocated by thread T3:
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)

    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
  Thread T3    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
 (tid=9499, running) created by thread T1 at:    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)

    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
  Thread T6
 (tid=9523, running) created by thread T1 at:  Thread T8
 (tid=9505, running) created by thread T1 at:    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)

    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
  Thread T3 (tid=9519, running) created by thread T1    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
 at:

    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
==================
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d180006bd00 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180006bd00 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180006bd00 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d180006bd17 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180006bd17 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180006bd00 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Write of size 4 at 0x7f7eda0ad054 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Write of size 4 at 0x7f7eda0ad044 by thread T3:
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)

  Previous write of size 4 at 0x7f7eda0ad054 by thread T2    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
:
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)

    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
  Previous write of size 4 at 0x7f7eda0ad044 by thread T2:
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)

  Thread T3    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
 (tid=9540, running) created by thread T1 at:
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
  Thread T3 (tid=9537, running) created by thread T1    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
 at:
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)

  Thread T2    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
 (tid=9538, running) created by thread T1 at:
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
  Thread T2 (tid=9536, running) created by thread T1    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
 at:
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)

    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
==================

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d2000003b30 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003b30 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003b00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d100000ba81 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d100000ba81 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d100000ba80 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9508, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9504, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d440004fd80 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440004fd80 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440004fd80 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d440004fd88 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440004fd88 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440004fd80 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d1800041cb8 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800041cb8 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800041ca0 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9508, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9504, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d600008f56f by thread T6  Read of size 1 at 0x7d1800041cb9 by thread T11:
:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


  Previous write of size 1 at 0x7d600008f56f by thread T3  Previous write of size 1 at 0x7d1800041cb9 by thread T7:
:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


  Location is heap block of size 927 at 0x7d600008f400 allocated by thread T3:
  Location is heap block of size 96 at 0x7d1800041ca0 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


  Thread T6  Thread T11 (tid=9523, running) created by thread T1 (tid=9508, running) created by thread T1 at: at:

    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


  Thread T3  Thread T7 (tid=9519, running) created by thread T1 (tid=9504, running) created by thread T1 at: at:

    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Read of size 8 at 0x00000164d9d0 by thread T4:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d9d0 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9d0)

  Thread T4 (tid=9539, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9536, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Read of size 8 at 0x00000164d9d0 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d9d0 by thread T5:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9d0)

  Thread T2 (tid=9538, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9543, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d600008f570 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008f570 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600008f400 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Read of size 8 at 0x00000164da00 by thread T4:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164da01 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da00)

  Thread T4 (tid=9539, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9536, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Read of size 8 at 0x00000164da00 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164da01 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da00)

  Thread T2 (tid=9538, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9543, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 1 at 0x7d600004f9b7 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600004f9b7 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600004f800 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9508, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9504, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Write of size 4 at 0x00000164cc58 by thread T5:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T5 (tid=9542, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9557, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Write of size 4 at 0x00000164cc58 by thread T4:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T4 (tid=9541, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9559, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d600008f59f by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600008f59f by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600008f400 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Write of size 4 at 0x7d3000011e70 by thread T4:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x7d3000011e70 by thread T5 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011dc0 allocated by thread T4:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T4 (tid=9541, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9543, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016 write_body
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d600008f5b7 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
==================
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
WARNING: ThreadSanitizer: data race (pid=9530)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
  Read of size 4 at 0x7d300004de70 by thread T4    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
 (mutexes: write M11    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
)
:
  Previous write of size 1 at 0x7d600008f5b7 by thread T3:
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)

    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
  Previous write of size 4 at 0x7d300004de70 by thread T10:
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)

    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
  Location is heap block of size 927 at 0x7d600008f400 allocated by thread T3:
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)

    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
  Location is heap block of size 192 at 0x7d300004ddc0 allocated by thread T10:
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)

    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
  Thread T6 (tid=9523, running) created by thread T1    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
 at:
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)

    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
  Thread T3 (tid=9519, running) created by thread T1    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
 at:
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
  Mutex M11 (0x7d90000306a0) created at:
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
==================
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T4 (tid=9539, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9553, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Read of size 8 at 0x7d2000023ba0 by thread T4:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023ba0 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023b80 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9539, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9553, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d600008f735 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008f730 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600008f400 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Read of size 1 at 0x7d1800104da0 by thread T4:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800104da0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800104d60 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9539, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9553, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d2000003b38 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003b38 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003b00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d04000003c0 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000003c0 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000003c0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d04000003c8 by thread T6:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000003c8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d04000003c0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d300002fd10 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fd10 by thread T3:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fd00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d300002fd28 by thread T6:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fd28 by thread T3:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fd00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d300002fd70 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fd70 by thread T3:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fd00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d300002fd30 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fd30 by thread T3:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fd00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d300002fd68 by thread T6:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fd68 by thread T3:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fd00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d300002fd60 by thread T6:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300002fd60 by thread T3:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300002fd00 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x00000164d9d0 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164d9d0 by thread T11:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164d9d0)

  Thread T2 (tid=9518, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9528, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x00000164da00 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164da00 by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164da00)

  Thread T7 (tid=9524, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9528, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d08000090c8 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 find_ct /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/mod_mime.c:937:9 (httpd+0x000000521c0f)
    #3 ap_run_type_checker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/request.c:115:1 (httpd+0x0000005f4378)
    #4 ap_process_request_internal /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/request.c:282:26 (httpd+0x0000005f6b4a)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:286:25 (httpd+0x00000051c22f)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d08000090c8 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d08000090c0 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 8 at 0x7d600008f708 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:378:5 (httpd+0x0000005ae027)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600008f708 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600008f400 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9534, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=9557, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Read of size 1 at 0x7d180006bd40 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d180006bd40 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180006bd00 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9523, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9519, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9535, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f7eda1ed000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9559, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9532)
  Read of size 4 at 0x00000164cc94 by thread T7:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T7 (tid=9549, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9559, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 8 warnings
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9497, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f7eda1ed000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9509, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9495)
  Read of size 4 at 0x00000164cc94 by thread T4:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T4 (tid=9500, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9509, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 48 warnings
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9517, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9515)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f7eda1ed000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9529, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9530)
  Read of size 4 at 0x00000164cc94 by thread T11:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T11 (tid=9555, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9557, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
==================
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

WARNING: ThreadSanitizer: data race (pid=9515)
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
  Read of size 4 at 0x00000164cc94 by thread T11==================
:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T11 (tid=9528, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9529, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 10 warnings
ThreadSanitizer: reported 51 warnings
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Write of size 4 at 0x7f7eda0ad024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9565, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9564, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
[Thu Jul 07 19:32:25 2016] [error] [client 127.0.0.1] client sent HTTP/1.1 request without hostname (see RFC2616 section 14.23): /pippo.php
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Write of size 4 at 0x00000164cc58 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T2 (tid=9564, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9575, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x00000164db50 by thread T3:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164db50 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db50)

  Thread T3 (tid=9565, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9573, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x00000164db80 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164db81 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db80)

  Thread T3 (tid=9565, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9573, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Write of size 4 at 0x7d3000011db0 by thread T2:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x7d3000011db0 by thread T4 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000011d00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T2 (tid=9564, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9566, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016 write_body
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d2000003a20 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000003a20 by thread T5:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000003a00 allocated by thread T5:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9567, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d1000005c18 by thread T8:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000005c18 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d1000005c00 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9567, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d18000cba17 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000cba10 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cba00 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9570, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9566, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d600006f96f by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600006f968 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600006f800 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9570, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9566, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d0400006398 by thread T8:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400006398 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400006390 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9567, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x00000164db90 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164db90 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db90)

  Thread T2 (tid=9564, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9573, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x00000164db98 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164db98 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db98)

  Thread T2 (tid=9564, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9573, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x00000164dbc8 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dbc8 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:166:9 (httpd+0x0000005b21e2)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dbc8)

  Thread T2 (tid=9564, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9573, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d600004f1c0 by thread T8:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600004f1c0 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600004f000 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9567, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d180009bb00 by thread T8:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d180009bb00 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d180009bac0 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9567, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x00000164cb18 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549:9 (httpd+0x0000004fa8c7)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164cb18 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:575:13 (httpd+0x0000004face0)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'request_time_cache' of size 160 at 0x00000164caf0 (httpd+0x00000164cb18)

  Thread T5 (tid=9567, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9573, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549 log_request_time
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d1c00016f70 by thread T2:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00016f70 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00016f10 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9564, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d18000cba08 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000cba08 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cba00 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9570, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9566, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Write of size 4 at 0x7f7eda0ad034 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad034 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9597, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d2000027e08 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027e08 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027e00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d2000027e10 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027e10 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027e00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d2000027e18 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027e18 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027e00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d2000027e40 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027e40 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027e00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x00000164db90 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164db90 by thread T5:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164db90)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9599, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d0c00025ef0 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00025ef0 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00025ef0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x00000164dbc0 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dbc0 by thread T5:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dbc0)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9599, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Write of size 4 at 0x00000164cc58 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9607, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d0c00025ef8 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00025ef8 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00025ef0 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d1000019d41 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1000019d41 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d1000019d40 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 4 at 0x7d300001ddb0 by thread T8 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7d300001ddb0 by thread T7:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300001dd00 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T8 (tid=9603, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588 open_entity
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d2000027e28 by thread T11:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027e28 by thread T8:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027e00 allocated by thread T8:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d2000023ba0 by thread T8:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023ba0 by thread T7:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023b80 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9603, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d0c00025f80 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00025f80 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00025f80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d600001f5c0 by thread T8:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600001f5c0 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600001f400 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9603, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d0c00025f88 by thread T11:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00025f88 by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00025f80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d18000a4b97 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000a4b97 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a4b80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d100000bd18 by thread T2:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d100000bd18 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d100000bd00 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d18000a4b98 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000a4b98 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a4b80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d1800041ec0 by thread T2:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800041ec0 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800041e80 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d18000a4b99 by thread T11:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000a4b99 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a4b80 allocated by thread T8:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9574, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T8 (tid=9571, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d2000023d88 by thread T4:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023d88 by thread T7:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023d80 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9598, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d100000b9c0 by thread T4:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d100000b9c0 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d100000b9c0 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9598, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 1 at 0x7d1000005cc0 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000005cc0 by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d1000005cc0 allocated by thread T5:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9572, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9567, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d04000093d8 by thread T4:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000093d8 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d04000093d0 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9598, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d1c00004580 by thread T4:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00004580 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c00004520 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9598, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d2000017db0 by thread T4:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000017db0 by thread T7:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000017d80 allocated by thread T7:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9566, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9570, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d440006dc40 by thread T4:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440006dc40 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440006dc40 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9566, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9570, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d1800041c48 by thread T4:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800041c48 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800041c40 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9598, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 8 at 0x7d440006dc48 by thread T4:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d440006dc48 by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d440006dc40 allocated by thread T7:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9566, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9570, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d200002ba90 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002ba90 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002ba80 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d200002ba98 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002ba98 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002ba80 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d200002bac0 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bac0 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002ba80 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d0c00012b40 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012b40 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012b40 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d0c00012b48 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012b48 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012b40 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d200002baa8 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002baa8 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002ba80 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d0c00012f60 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012f60 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012f60 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d0c00012f68 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00012f68 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00012f60 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d1800074f40 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800074f40 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074f40 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d1800074f59 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800074f59 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074f40 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d1800074f5a by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d1800074f5a by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800074f40 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d200002bab0 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bab0 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002ba80 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d4400063ec0 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400063ec0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400063ec0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d4400063ec8 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d4400063ec8 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d4400063ec0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d60000af800 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d60000af800 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d60000af800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d60000af84a by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d60000af84a by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d60000af800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d60000af99f by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d60000af99f by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d60000af800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d60000af9cf by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d60000af9cf by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d60000af800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d200002bab8 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002bab8 by thread T2:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002ba80 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d040001cbe0 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d040001cbe0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d040001cbe0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d040001cbe8 by thread T7:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d040001cbe8 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d040001cbe0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d080000a0e0 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d080000a0e0 by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d080000a0e0 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d3000047dd0 by thread T7:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000047dd0 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000047dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d3000047de8 by thread T7:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000047de8 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000047dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d3000047e30 by thread T7:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000047e30 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000047dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d3000047df0 by thread T7:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000047df0 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000047dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d3000047e28 by thread T7:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000047e28 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000047dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 8 at 0x7d3000047e20 by thread T7:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d3000047e20 by thread T2:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000047dc0 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Read of size 1 at 0x7d60000afb41 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 ap_add_cgi_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:380:5 (httpd+0x0000005ae0cb)
    #3 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:520 (libphp4.so+0x00000014c68c)
    #4 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d60000afb41 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d60000af800 allocated by thread T2:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9602, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9596, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9595, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9593)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=9607, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9563, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f7eda1ed000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9575, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9561)
  Read of size 4 at 0x00000164cc94 by thread T3:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T3 (tid=9565, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9575, running) created by thread T1==================
 at:
WARNING: ThreadSanitizer: data race (pid=9593)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
  Read of size 4 at 0x00000164cc94 by thread T11:
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


  Previous write of size 4 at 0x00000164cc94 by thread T12:
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T11 (tid=9606, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9607, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 38 warnings
ThreadSanitizer: reported 46 warnings
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Write of size 4 at 0x7f7eda0ad024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9612, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9611, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x00000164dc90 by thread T2:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dc90 by thread T6:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dc90)

  Thread T2 (tid=9611, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x00000164dcc0 by thread T2:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dcc1 by thread T6:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dcc0)

  Thread T2 (tid=9611, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Write of size 4 at 0x00000164cc58 by thread T4:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

  Thread T4 (tid=9613, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9622, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Write of size 4 at 0x7d300003bdb0 by thread T10:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x7d300003bdb0 by thread T6 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bd00 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016 write_body
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d2000013aa0 by thread T9:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000013aa0 by thread T6:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000013a80 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9619, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d1000009bd5 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000009bd0 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d1000009bc0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9619, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d1000009bd8 by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1000009bd8 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 59 at 0x7d1000009bc0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9619, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d600002f59e by thread T9:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600002f598 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600002f400 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9619, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d04000093b8 by thread T9:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d04000093b8 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d04000093b0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9619, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d1c00000530 by thread T9:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c00000530 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c000004d0 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9619, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d600002f1e8 by thread T4:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600002f1e8 by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600002f000 allocated by thread T6:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9613, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d1800078100 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800078100 by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000780c0 allocated by thread T4:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9617, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9613, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d2000027d88 by thread T6:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000027d88 by thread T3:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000027d80 allocated by thread T3:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9612, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d18000a4d77 by thread T6:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000a4d70 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a4d60 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9612, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d18000a4d68 by thread T6:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_set /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525:14 (libapr-0.so.0+0x000000023e4b)
    #2 php_apache_sapi_header_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:108 (libphp4.so+0x00000014c10b)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d18000a4d68 by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000a4d60 allocated by thread T3:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9612, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:525 apr_table_set
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d200002b910 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002b910 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002b900 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d200002b918 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786:40 (httpd+0x0000004c721f)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002b918 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002b900 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:786 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d200002b940 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:28 (httpd+0x0000004c72a8)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002b940 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002b900 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d0c00020730 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00020730 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00020730 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d0c00020738 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c00020738 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c00020730 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d200002b928 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:29 (httpd+0x0000004c737d)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002b928 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002b900 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d0c0001fd70 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001fd70 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001fd70 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d0c0001fd78 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0c0001fd78 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 48 at 0x7d0c0001fd70 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d18000cbd79 by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x00000002870f)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000cbd79 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cbd60 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d18000cbd7a by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:791:10 (httpd+0x0000004c740f)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d18000cbd7a by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d18000cbd60 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d200002b930 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:29 (httpd+0x0000004c7450)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002b930 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002b900 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d44000459c0 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d44000459c0 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d44000459c0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d44000459c8 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d44000459c8 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 320 at 0x7d44000459c0 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d600006e84a by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600006e84a by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600006e800 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d600006e99f by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x000000028647)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600006e99f by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600006e800 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d600006e9cf by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:794:10 (httpd+0x0000004c74e2)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x7d600006e9cf by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:699:9 (httpd+0x0000004ca0c4)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600006e800 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d200002b938 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:29 (httpd+0x0000004c7523)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200002b938 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:5 (httpd+0x0000004c9bcf)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200002b900 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d0400003360 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:27 (httpd+0x0000004ca484)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400003360 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400003360 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Write of size 4 at 0x7f7eda0ad034 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad034 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9628, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9627, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d0400003368 by thread T5:
    #0 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:40 (httpd+0x0000004ca4d1)
    #1 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400003368 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 16 at 0x7d0400003360 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:679:12 (httpd+0x0000004c9bac)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716 unserialize_table
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 1 at 0x7d0800002040 by thread T5:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828:12 (libapr-0.so.0+0x00000002830a)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:797:10 (httpd+0x0000004c75b5)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800002040 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800002040 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:828 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d300003bad0 by thread T5:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:49 (httpd+0x0000004c7659)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bad0 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:9 (httpd+0x0000004c92ec)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d300003bae8 by thread T5:
    #0 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:40 (httpd+0x0000004be83c)
    #1 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bae8 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:9 (httpd+0x0000004c94cc)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286 cache_read_entity_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 8 at 0x00000164dcd0 by thread T7:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dcd0 by thread T11:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dcd0)

  Thread T7 (tid=9633, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9637, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d300003bb30 by thread T5:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c02f4)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bb30 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:879:9 (httpd+0x0000004c90a1)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 8 at 0x00000164dd00 by thread T7:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd01 by thread T11:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd00)

  Thread T7 (tid=9633, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T11 (tid=9637, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d300003baf0 by thread T5:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151:20 (httpd+0x0000004c0326)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003baf0 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:873:9 (httpd+0x0000004c8f37)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
==================
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
WARNING: ThreadSanitizer: data race (pid=9624)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
  Write of size 4 at 0x00000164cc58 by thread T6    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
:
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948:9 (httpd+0x000000576c3b)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)

    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
  Previous read of size 4 at 0x00000164cc58 by thread T12:
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:711:13 (httpd+0x000000577307)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)

    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
  Location is global 'requests_this_child' of size 4 at 0x00000164cc58 (httpd+0x00000164cc58)

    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
  Thread T6    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
 (tid=9632, running) created by thread T1 at:    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)

    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)

    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
  Thread T5 (tid=9614, running) created by thread T1    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
 at:

  Thread T12 (tid=9638, running) created by thread T1    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
 at:
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)

    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
  Thread T10 (tid=9620, running) created by thread T1    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
 at:
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:948 worker_thread
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
==================
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:151 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d300003bb28 by thread T5:
    #0 ap_cache_current_age /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153:44 (httpd+0x0000004c04d5)
    #1 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:217:11 (httpd+0x0000004c0a6f)
    #2 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #3 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bb28 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:882:9 (httpd+0x0000004c9156)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:153 ap_cache_current_age
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Write of size 4 at 0x7d3000029db0 by thread T2:
    #0 write_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016:13 (httpd+0x0000004c869a)
    #1 cache_write_entity_body /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:272:13 (httpd+0x0000004bea93)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:769:14 (httpd+0x0000004bb237)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous read of size 4 at 0x7d3000029db0 by thread T4 (mutexes: write M11):
    #0 open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:588:13 (httpd+0x0000004c5252)
    #1 cache_run_open_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:310:1 (httpd+0x0000004be5d9)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:187:23 (httpd+0x0000004bdb34)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d3000029d00 allocated by thread T2:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Mutex M11 (0x7d90000306a0) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 apr_thread_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/thread_mutex.c:91:15 (libapr-0.so.0+0x00000005f508)
    #2 mem_cache_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1079:9 (httpd+0x0000004c4163)
    #3 ap_run_post_config /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:128:1 (httpd+0x00000057bfa9)
    #4 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:649:13 (httpd+0x00000059442e)

  Thread T2 (tid=9627, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T4 (tid=9629, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:1016 write_body
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d300003bb20 by thread T5:
    #0 ap_cache_check_freshness /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284:11 (httpd+0x0000004c13b9)
    #1 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:210:24 (httpd+0x0000004b80e2)
    #2 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #3 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #4 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #5 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #6 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #7 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #8 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #9 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d300003bb20 by thread T10:
    #0 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:885:9 (httpd+0x0000004c920b)
    #1 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #2 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #3 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #4 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #7 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #8 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #9 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #10 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #11 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #12 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #13 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #14 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 192 at 0x7d300003bac0 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:490:11 (httpd+0x0000004c473e)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_util.c:284 ap_cache_check_freshness
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 8 at 0x7d200001be20 by thread T2:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783:43 (httpd+0x0000004c7012)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001be20 by thread T6:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001be00 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9627, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9632, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:783 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x7d0800002048 by thread T5:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_setn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597:14 (libapr-0.so.0+0x0000000254eb)
    #2 find_ct /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/mod_mime.c:937:9 (httpd+0x000000521c0f)
    #3 ap_run_type_checker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/request.c:115:1 (httpd+0x0000005f4378)
    #4 ap_process_request_internal /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/request.c:282:26 (httpd+0x0000005f6b4a)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:286:25 (httpd+0x00000051c22f)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0800002048 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 28 at 0x7d0800002040 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:866:10 (httpd+0x0000004c8e31)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T5 (tid=9614, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9620, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:597 apr_table_setn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 8 at 0x7d200001be08 by thread T2:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784:46 (httpd+0x0000004c70aa)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d200001be08 by thread T6:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d200001be00 allocated by thread T6:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9627, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9632, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:784 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 8 at 0x00000164dd08 by thread T3:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dd08 by thread T6:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:166:9 (httpd+0x0000005b21e2)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd08)

  Thread T3 (tid=9612, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T6 (tid=9616, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 1 at 0x7d100001dd98 by thread T7:
    #0 apr_table_addn /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834:5 (libapr-0.so.0+0x0000000287d7)
    #1 unserialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:716:9 (httpd+0x0000004ca4e6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:788:10 (httpd+0x0000004c733c)
==================
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
WARNING: ThreadSanitizer: data race (pid=9608)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
  Read of size 8 at 0x00000164cb40 by thread T3    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
:
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549:9 (httpd+0x0000004fa8c7)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)

    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
  Previous write of size 8 at 0x7d100001dd98 by thread T9:
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)

    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
  Previous write of size 8 at 0x00000164cb40 by thread T6:
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #1 log_request_time /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:575:13 (httpd+0x0000004face0)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #2 process_item /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:856:12 (httpd+0x0000004f76f3)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #3 config_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:919:19 (httpd+0x0000004f6e8c)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #4 multi_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:950:13 (httpd+0x0000004f5b62)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #5 ap_run_log_transaction /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1563:1 (httpd+0x0000005c9c58)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:312:5 (httpd+0x00000051c336)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)


  Location is heap block of size 59 at 0x7d100001dd80 allocated by thread T9:
  Location is global 'request_time_cache' of size 160 at 0x00000164caf0 (httpd+0x00000164cb40)

    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
  Thread T3 (tid=9612, running) created by thread T1    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
 at:
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:845:10 (httpd+0x0000004c8b9b)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)

    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
  Thread T6 (tid=9616, running) created by thread T1    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
 at:
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)

    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/loggers/mod_log_config.c:549 log_request_time
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
==================

  Thread T7 (tid=9633, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9635, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:834 apr_table_addn
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 1 at 0x7d0400001bd8 by thread T7:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:804:28 (httpd+0x0000004c7670)
    #3 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #4 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #5 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #6 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d0400001bd8 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 10 at 0x7d0400001bd0 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:889:42 (httpd+0x0000004c92c2)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9633, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9635, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 1 at 0x7d1c0000fa30 by thread T7:
    #0 strlen /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:625 (httpd+0x0000004466a3)
    #1 apr_pstrdup /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114:11 (libapr-0.so.0+0x0000000192c6)
    #2 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:286:19 (httpd+0x0000004be84d)
    #3 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #4 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #5 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #6 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #7 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #8 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #9 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #10 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #11 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #12 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1c0000fa30 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 102 at 0x7d1c0000f9d0 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:897:38 (httpd+0x0000004c949b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9633, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9635, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/strings/apr_strings.c:114 apr_pstrdup
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 1 at 0x7d600007f9c0 by thread T7:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 table_mergesort /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063:21 (libapr-0.so.0+0x00000002b600)
    #2 apr_table_compress /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1125:18 (libapr-0.so.0+0x000000029e5f)
    #3 apr_table_overlap /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1244:5 (libapr-0.so.0+0x00000002bcc1)
    #4 ap_add_common_vars /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_script.c:320:7 (httpd+0x0000005ad832)
    #5 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:519 (libphp4.so+0x00000014c684)
    #6 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #7 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #8 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #9 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #10 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #11 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #12 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #13 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d600007f9c0 by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 927 at 0x7d600007f800 allocated by thread T9:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T7 (tid=9633, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T9 (tid=9635, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:1063 table_mergesort
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 8 at 0x7d2000023b90 by thread T2:
    #0 read_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785:49 (httpd+0x0000004c7163)
    #1 cache_read_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:281:10 (httpd+0x0000004be79b)
    #2 cache_select_url /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:190:17 (httpd+0x0000004bdbc9)
    #3 cache_url_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:196:10 (httpd+0x0000004b7f60)
    #4 ap_run_quick_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:197:1 (httpd+0x00000057d6c7)
    #5 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:284:21 (httpd+0x00000051c1f2)
    #6 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #7 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #8 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #9 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #10 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #11 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d2000023b90 by thread T10:
    #0 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:674:5 (httpd+0x0000004c9ae6)
    #1 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:859:10 (httpd+0x0000004c8d4b)
    #2 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #3 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #4 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #5 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #8 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #9 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #10 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #11 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #12 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #13 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #14 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #15 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 120 at 0x7d2000023b80 allocated by thread T10:
    #0 calloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:512 (httpd+0x00000045aa12)
    #1 create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:505:12 (httpd+0x0000004c495b)
    #2 cache_run_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:306:1 (httpd+0x0000004bd5eb)
    #3 cache_create_entity /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:128:22 (httpd+0x0000004bd252)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:669:14 (httpd+0x0000004ba569)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9627, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9636, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:785 read_headers
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 8 at 0x00000164dd10 by thread T8:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105:9 (httpd+0x0000005b1e4a)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x00000164dd10 by thread T10:
    #0 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:164:9 (httpd+0x0000005b2148)
    #1 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #2 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #3 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #4 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #9 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #10 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #11 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #12 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #13 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #14 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #15 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #16 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #17 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #18 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #19 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #20 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #21 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #22 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd10)

  Thread T8 (tid=9634, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9636, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:105 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 8 at 0x00000164dd40 by thread T8:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135:9 (httpd+0x0000005b1ea7)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:675:16 (httpd+0x0000004ba60b)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 1 at 0x00000164dd40 by thread T10:
    #0 memcpy /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:638 (httpd+0x000000452d16)
    #1 cached_explode /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:165:9 (httpd+0x0000005b219b)
    #2 ap_explode_recent_gmt /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:182:12 (httpd+0x0000005b231c)
    #3 ap_recent_rfc822_date /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:239:5 (httpd+0x0000005b310f)
    #4 basic_http_header /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1276:5 (httpd+0x00000050e1b5)
    #5 ap_http_header_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:1670:5 (httpd+0x000000510d5d)
    #6 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #7 ap_content_length_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1263:12 (httpd+0x0000005cc003)
    #8 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #9 ap_byterange_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_protocol.c:2902:20 (httpd+0x000000517685)
    #10 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #11 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:775:12 (httpd+0x0000004bb2d4)
    #12 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #13 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #14 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #15 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #16 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #17 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #18 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #19 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #20 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #21 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #22 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #23 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'exploded_cache_gmt' of size 1024 at 0x00000164d950 (httpd+0x00000164dd40)

  Thread T8 (tid=9634, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9636, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_time.c:135 cached_explode
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Read of size 1 at 0x7d1800104b60 by thread T2:
    #0 strcasecmp /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/../sanitizer_common/sanitizer_common_interceptors.inc:218 (httpd+0x000000462d97)
    #1 apr_table_unset /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666:14 (libapr-0.so.0+0x00000002616d)
    #2 php_apache_request_ctor.isra.1 /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:428 (libphp4.so+0x00000014c48a)
    #3 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #4 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #5 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #6 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #7 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #8 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #9 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #10 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 8 at 0x7d1800104b60 by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is heap block of size 96 at 0x7d1800104b20 allocated by thread T10:
    #0 malloc /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:495 (httpd+0x00000045a7af)
    #1 serialize_table /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:690:11 (httpd+0x0000004c9e0e)
    #2 write_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_mem_cache.c:853:10 (httpd+0x0000004c8c65)
    #3 cache_write_entity_headers /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/cache_storage.c:268:13 (httpd+0x0000004be9a3)
    #4 cache_in_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/experimental/mod_cache.c:767:10 (httpd+0x0000004bb191)
    #5 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #6 ap_old_write_filter /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/protocol.c:1332:12 (httpd+0x0000005ccf63)
    #7 ap_pass_brigade /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/util_filter.c:550:16 (httpd+0x0000005be2a7)
    #8 php_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/php-4.4.1/sapi/apache2handler/sapi_apache2.c:594 (libphp4.so+0x00000014d2a7)
    #9 ap_invoke_handler /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/config.c:401:14 (httpd+0x00000057e9f9)
    #10 ap_process_request /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_request.c:288:29 (httpd+0x00000051c26c)
    #11 ap_process_http_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/modules/http/http_core.c:293:13 (httpd+0x000000502887)
    #12 ap_run_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:85:1 (httpd+0x0000005b4b48)
    #13 ap_process_connection /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/connection.c:211:9 (httpd+0x0000005b5aa6)
    #14 process_socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:632:9 (httpd+0x0000005783b9)
    #15 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:946:9 (httpd+0x000000576bba)
    #16 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9627, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T10 (tid=9636, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/tables/apr_tables.c:666 apr_table_unset
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9626, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9624)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:714:13 (httpd+0x00000057732b)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Thread T12 (tid=9638, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9610, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f7eda1ed000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9622, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9608)
  Read of size 4 at 0x00000164cc94 by thread T7:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

==================
  Previous write of size 4 at 0x00000164cc94 by thread T12WARNING: ThreadSanitizer: data race (pid=9624)
:
  Read of size 4 at 0x00000164cc94 by thread T3    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
:
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
  Thread T7
 (tid=9617, running) created by thread T1 at:  Previous write of size 4 at 0x00000164cc94 by thread T12
:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9628, running) created by thread T1  Thread T12 at: (tid=9622, finished) created by thread T1
 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)

    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)
  Thread T12
 (tid=9638, running) created by thread T1 at:
SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
ThreadSanitizer: reported 48 warnings
ThreadSanitizer: reported 18 warnings
==================
WARNING: ThreadSanitizer: data race (pid=9639)
  Write of size 4 at 0x7f7eda0ad024 by thread T3:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x7f7eda0ad024 by thread T2:
    #0 ap_update_child_status_from_indexes /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422:9 (httpd+0x0000005c25d0)
    #1 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:908:9 (httpd+0x000000576932)
    #2 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T3 (tid=9643, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T2 (tid=9642, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/scoreboard.c:422 ap_update_child_status_from_indexes
==================
==================
WARNING: ThreadSanitizer: data race (pid=9639)
  Write of size 4 at 0x00000164cc90 by main thread:
    #0 join_start_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173:5 (httpd+0x000000575dba)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1321:17 (httpd+0x000000574fc6)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc90 by thread T1:
    #0 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1083:13 (httpd+0x000000575aed)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'start_thread_may_exit' of size 4 at 0x00000164cc90 (httpd+0x00000164cc90)

  Thread T1 (tid=9641, finished) created by main thread at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1258:10 (httpd+0x000000574d59)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1173 join_start_thread
==================
==================
WARNING: ThreadSanitizer: data race (pid=9639)
  Write of size 4 at 0x00000164cbf0 by main thread:
    #0 wakeup_listener /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273:5 (httpd+0x00000057644c)
    #1 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:310:5 (httpd+0x000000575efc)
    #2 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #3 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #4 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #5 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #6 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #7 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cbf0 by thread T12 (mutexes: write M14):
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:794:14 (httpd+0x0000005779ac)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'listener_may_exit' of size 4 at 0x00000164cbf0 (httpd+0x00000164cbf0)

  Mutex M14 (0x7f7eda1ed000) created at:
    #0 pthread_mutex_init /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:1082 (httpd+0x00000044ff75)
    #1 proc_mutex_proc_pthread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:388:15 (libapr-0.so.0+0x00000005bacd)
    #2 proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:822:15 (libapr-0.so.0+0x00000005e0a2)
    #3 apr_proc_mutex_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/locks/unix/proc_mutex.c:845:15 (libapr-0.so.0+0x00000005de16)
    #4 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1667:10 (httpd+0x00000056fd47)
    #5 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Thread T12 (tid=9653, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:273 wakeup_listener
==================
==================
WARNING: ThreadSanitizer: data race (pid=9639)
  Write of size 4 at 0x00000164cc70 by main thread:
    #0 signal_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:317:9 (httpd+0x000000575f24)
    #1 child_main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1322:17 (httpd+0x000000574fed)
    #2 make_child /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1388:9 (httpd+0x0000005738b9)
    #3 perform_idle_server_maintenance /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1549:17 (httpd+0x0000005746dc)
    #4 server_main_loop /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1642:9 (httpd+0x000000571518)
    #5 ap_mpm_run /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1740:5 (httpd+0x0000005702c1)
    #6 main /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/main.c:660:13 (httpd+0x0000005944e1)

  Previous read of size 4 at 0x00000164cc70 by thread T10:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:910:13 (httpd+0x000000576947)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'workers_may_exit' of size 4 at 0x00000164cc70 (httpd+0x00000164cc70)

  Thread T10 (tid=9651, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:317 signal_threads
==================
==================
WARNING: ThreadSanitizer: data race (pid=9639)
  Read of size 4 at 0x00000164cc94 by thread T2:
    #0 worker_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954:10 (httpd+0x000000576cc8)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Previous write of size 4 at 0x00000164cc94 by thread T12:
    #0 listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:861:5 (httpd+0x000000577f96)
    #1 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Location is global 'dying' of size 4 at 0x00000164cc94 (httpd+0x00000164cc94)

  Thread T2 (tid=9642, running) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1065:18 (httpd+0x00000057599a)
    #3 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

  Thread T12 (tid=9653, finished) created by thread T1 at:
    #0 pthread_create /home/jason/downloads/llvm-3.6.1.src/projects/compiler-rt/lib/tsan/rtl/tsan_interceptors.cc:896 (httpd+0x000000463193)
    #1 apr_thread_create /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:165:17 (libapr-0.so.0+0x000000052afe)
    #2 create_listener_thread /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:981:10 (httpd+0x000000576f2d)
    #3 start_threads /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:1080:13 (httpd+0x000000575acb)
    #4 dummy_worker /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/srclib/apr/threadproc/unix/thread.c:127:12 (libapr-0.so.0+0x000000052c5e)

SUMMARY: ThreadSanitizer: data race /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/server/mpm/worker/worker.c:954 worker_thread
==================
[Thu Jul 07 19:36:10 2016] [warn] child process 9639 still did not exit, sending a SIGTERM
ThreadSanitizer: reported 5 warnings
[Thu Jul 07 19:36:10 2016] [notice] caught SIGTERM, shutting down
[Thu Jul 07 19:36:52 2016] [error] (98): Couldn't bind unix domain socket /home/jason/github/ConAnalysis/concurrency-exploits/apache-21287/httpd-2.0.48/../apache-install-tsan/logs/cgisock
[Thu Jul 07 19:36:52 2016] [notice] Apache/2.0.48 (Unix) PHP/4.4.1 configured -- resuming normal operations
